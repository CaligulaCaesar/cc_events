
namespace = dpe_hw_duel


#monthly pulse

country_event = {
	id = dpe_hw_duel.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
#		always = no
		has_ai_personality = honorbound_warriors
		NOR = {
			has_country_flag = dpe_recent_HW_event
			has_country_flag = dpe_never_again_HW_event
		}
		any_country = {
			has_relation_flag = {
				flag = dpe_insult
				who = root
			}
			NOR = {
				has_country_flag = dpe_recent_HW_event
				has_relation_flag = {
					flag = dpe_has_had_HW_chain
					who = root
				}
			}
		}
	}
	
	immediate = {
		random_list = {
			1 = {
				random_country = {
					limit = {
						has_relation_flag = {
							flag = dpe_insult
							who = root
						}
						NOR = {
							has_country_flag = dpe_recent_HW_event
							has_relation_flag = {
								flag = dpe_has_had_HW_chain
								who = root
							}
						}
					}
					save_event_target_as = dpe_insult_country
					set_timed_relation_flag = {
						flag = dpe_has_had_HW_chain
						who = root
						days = 21600
					}
					set_timed_country_flag = {
						flag = dpe_recent_HW_event
						days = 9000
					}
				}
				
				set_timed_country_flag = {
					flag = dpe_recent_HW_event
					days = 7200
				}
				save_event_target_as = dpe_honourbound_country
				set_country_flag = dpe_has_had_HW_chain

				country_event = { id = dpe_hw_duel.2 days = 10 }
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_country_flag = dpe_has_had_HW_chain }
				}
			}
		}
	}
}

country_event = {
	id = dpe_hw_duel.2
	title = dpe_hw_duel.2.name
	desc = dpe_hw_duel.2.desc

	picture = GFX_evt_victorious_army
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { exists = heir }

			heir = { save_event_target_as = dpe_duel_leader }
		}
		
		else_if = {
			limit = {
				any_owned_leader = {
					leader_of_faction = imperialist
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
			}
			random_owned_leader = {
				limit = {
					leader_of_faction = imperialist
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
			}
			random_owned_leader = {
				limit = {
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader
			}
		}
		else = {
			random_owned_leader = {
				limit = {
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader
			}
		}
	}
	
	
	option = {
		name = dpe_hw_duel.2.A

		trigger = { exists = event_target:dpe_duel_leader }
		
		if = {
			limit = {
				exists = heir
				heir = { is_same_value = event_target:dpe_duel_leader }
			}
			custom_tooltip = dpe_hw_duel.2.A.tooltip.heir
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader = { leader_class = general }
			}
			custom_tooltip = dpe_hw_duel.2.A.tooltip.general
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader = { leader_class = admiral }
			}
			custom_tooltip = dpe_hw_duel.2.A.tooltip.admiral
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader = { leader_class = governor }
			}
			custom_tooltip = dpe_hw_duel.2.A.tooltip.governor
		}

		event_target:dpe_insult_country = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_demanded_duel				
			}
		}

		hidden_effect = {
			set_timed_country_flag = {
				flag = dpe_hw_duel_leader
				days = 60
			}
		}
		
		hidden_effect = { event_target:dpe_insult_country = { country_event = { id = dpe_hw_duel.3 } } }
	}
	
	option = {
		name = dpe_hw_duel.2.B

		trigger = { exists = event_target:dpe_duel_leader }
		
		event_target:dpe_insult_country = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_demanded_duel				
			}
		}
		
		hidden_effect = { event_target:dpe_insult_country = { country_event = { id = dpe_hw_duel.3 } } }
	}
	
	option = {
		name = dpe_hw_duel.2.C

		trigger = { NOT = { exists = event_target:dpe_duel_leader } }
		
		event_target:dpe_insult_country = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_demanded_duel				
			}
		}
		
		hidden_effect = { event_target:dpe_insult_country = { country_event = { id = dpe_hw_duel.3 } } }
	}
	
	option = {
		name = dpe_hw_duel.2.D

		add_modifier = {
			modifier = dpe_cowardly_empire
			days = 3600
		}

		random_pop_faction = {
			limit = { is_pop_faction_type = imperialist }
			add_modifier = {
				modifier = dpe_cowardly_empire_faction
				days = 3600
			}
		}
		ai_chance = {
			factor = 0.5
			modifier = {
				factor = 2
				relative_power = {
					who = event_target:dpe_insult_country
					value < equivalent
				}
				relative_power = {
					who = event_target:dpe_insult_country
					value < inferior
				}
			}
			modifier = {
				factor = 2
				relative_power = {
					who = event_target:dpe_insult_country
					value < inferior
				}
			}
		}
	}
	
	option = {
		name = dpe_hw_duel.2.E
		custom_tooltip = dpe_hw_duel.2.E.tooltip

		add_modifier = {
			modifier = dpe_cowardly_empire
			days = 3600
		}

		random_pop_faction = {
			limit = { is_pop_faction_type = imperialist }
			add_modifier = {
				modifier = dpe_cowardly_empire_faction
				days = 3600
			}
		}

		hidden_effect = {
			set_country_flag = dpe_never_again_HW_event
		}
		ai_chance = {
			factor = 0.25
		}
	}
}


country_event = {
	id = dpe_hw_duel.3
	title = dpe_hw_duel.3.name
	desc = {
		trigger = {
			exists = event_target:dpe_duel_leader
			event_target:dpe_duel_leader = {
				is_same_value = from.heir
			}
		}
		text = dpe_hw_duel.3.desc.heir
	}
	desc = {
		trigger = {
			NAND = {
				exists = event_target:dpe_duel_leader
				event_target:dpe_duel_leader = {
					is_same_value = from.heir
				}
			}
		}
		text = dpe_hw_duel.3.desc.other
	}

	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}

	option = {
		name = dpe_hw_duel.3.reject

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			NOR = {
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
				has_ethic = ethic_fanatic_xenophobe
				has_valid_civic = civic_hive_devouring_swarm
				has_authority = auth_hive_mind
				has_authority = auth_machine_intelligence
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 1.5
				relative_power = {
					who = from
					value < equivalent
				}
			}
			modifier = {
				factor = 1.5
				relative_power = {
					who = from
					value < inferior
				}
			}
			modifier = {
				factor = 0.75
				relative_power = {
					who = from
					value > equivalent
				}
			}
			modifier = {
				factor = 0.5
				relative_power = {
					who = from
					value > superior
				}
			}
			modifier = {
				factor = 0
				has_ai_personality = honorbound_warriors
			}
		}
	}

	option = {
		name = dpe_hw_duel.3.reject.FE

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			OR = {
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
			}
		}
	}
	
	option = {
		name = dpe_hw_duel.3.reject.purifier

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			has_ethic = ethic_fanatic_xenophobe
		}
	}

	option = {
		name = dpe_hw_duel.3.reject.swarm

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			has_valid_civic = civic_hive_devouring_swarm
		}
	}

	option = {
		name = dpe_hw_duel.3.reject.hive

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			has_authority = auth_hive_mind
			NOT = { 
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
	}

	option = {
		name = dpe_hw_duel.3.reject.machine

		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
			hidden_effect = { country_event = { id = dpe_hw_duel.4 days = 5 } }
		}

		trigger = {
			has_authority = auth_machine_intelligence
		}
	}

	
	#positive responses
	option = {
		name = dpe_hw_duel.3.accept

		hidden_effect = {
			from = {
				country_event = { id = dpe_hw_duel.5 days = 5 }
			}
		}

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
		}

		trigger = {
			NOR = {
				AND = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
					any_owned_leader = {
						NOR = {
							leader_class = scientist
							is_same_value = root.leader
						}
					}
				}
				has_authority = auth_machine_intelligence
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_machine_terminator
			}
			NOT = { has_ethic = ethic_fanatic_pacifist }
		}
	}
	
	option = {
		name = dpe_hw_duel.3.accept.machine

		hidden_effect = {
			from = {
				country_event = { id = dpe_hw_duel.5 days = 5 }
			}
		}

		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { has_valid_civic = civic_machine_terminator }
		}
	}

	option = {
		name = dpe_hw_duel.3.accept.militarist

		hidden_effect = {
			country_event = { id = dpe_hw_duel.45 days = 3 }
		}

		ai_chance = {
			factor = 5
		}

		trigger = {
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			any_owned_leader = {
				NOR = {
					leader_class = scientist
					is_same_value = root.leader
				}
			}
		}
	}
	
	option = {
		name = dpe_hw_duel.3.apologise

		add_modifier = {
			modifier = dpe_cowardly_empire
			days = 3600
		}

		if = {
			limit = {
				any_pop_faction = {
					is_pop_faction_type = imperialist
				}
			}
			random_pop_faction = {
				limit = { is_pop_faction_type = imperialist }
				add_modifier = {
					modifier = dpe_cowardly_empire_faction
					days = 3600
				}
			}
		}

		hidden_effect = {
			from = { country_event = { id = dpe_hw_duel.48 } }
		}

		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				NOT = {
					relative_power = {
						who = from
						value < equivalent
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					any_pop_faction = {
						is_pop_faction_type = imperialist
					}
				}
			}
		}

		trigger = {
			NOR = {
				has_ai_personality = honorbound_warriors
				has_ethic = ethic_fanatic_militarist
				is_country_type = fallen_empire
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_machine_terminator
			}
		}
	}
}



country_event = {
	id = dpe_hw_duel.45
	title = dpe_hw_duel.45.name
	desc = dpe_hw_duel.45.desc

	picture = GFX_evt_victorious_army
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { exists = heir }

			heir = { save_event_target_as = dpe_duel_leader2 }
		}
		
		else_if = {
			limit = {
				any_owned_leader = {
					leader_of_faction = imperialist
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
			}
			random_owned_leader = {
				limit = {
					leader_of_faction = imperialist
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader2
			}
		}
		else_if = {
			limit = {
				any_owned_leader = {
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
			}
			random_owned_leader = {
				limit = {
					is_same_species = root
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader2
			}
		}
		else = {
			random_owned_leader = {
				limit = {
					NOR = {
						leader_class = scientist
						is_same_value = root.leader
					}
				}
				save_event_target_as = dpe_duel_leader2
			}
		}
	}
	
	
	option = {
		name = dpe_hw_duel.45.A

		if = {
			limit = {
				exists = heir
				heir = { is_same_value = event_target:dpe_duel_leader2 }
			}
			custom_tooltip = dpe_hw_duel.45.A.tooltip.heir
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader2 = { leader_class = general }
			}
			custom_tooltip = dpe_hw_duel.45.A.tooltip.general
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader2 = { leader_class = admiral }
			}
			custom_tooltip = dpe_hw_duel.45.A.tooltip.admiral
		}
		else_if = {
			limit = {
				event_target:dpe_duel_leader2 = { leader_class = governor }
			}
			custom_tooltip = dpe_hw_duel.45.A.tooltip.governor
		}

		hidden_effect = {
			set_timed_country_flag = {
				flag = dpe_hw_duel_leader
				days = 60
			}
		}
		hidden_effect = { fromfrom = { country_event = { id = dpe_hw_duel.5 days = 2 } } }
	}
	
	option = {
		name = dpe_hw_duel.45.B

		hidden_effect = { fromfrom = { country_event = { id = dpe_hw_duel.5 days = 2 } } }
	}
}


#rejection
country_event = {
	id = dpe_hw_duel.4
	title = dpe_hw_duel.4.name
	desc = {
		trigger = {
			from = {
				NOR = {
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
					has_ethic = ethic_fanatic_xenophobe
					has_valid_civic = civic_hive_devouring_swarm
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = dpe_hw_duel.4.desc
	}
	desc = {
		trigger = {
			from = {
				OR = {
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
				}
			}
		}
		text = dpe_hw_duel.4.desc.FE
	}
	desc = {
		trigger = {
			from = {
				has_ethic = ethic_fanatic_xenophobe
			}
		}
		text = dpe_hw_duel.4.desc.phobe
	}
	desc = {
		trigger = {
			from = {
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
		text = dpe_hw_duel.4.desc.swarm
	}
	desc = {
		trigger = {
			from = {
				has_authority = auth_machine_intelligence
			}
		}
		text = dpe_hw_duel.4.desc.machine
	}
	desc = {
		trigger = {
			from = {
				has_authority = auth_hive_mind
				NOT = { has_valid_civic = civic_hive_devouring_swarm }
			}
		}
		text = dpe_hw_duel.4.desc.hive
	}
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}


	option = {
		name = dpe_hw_duel.4.option
	}
}



#apology
country_event = {
	id = dpe_hw_duel.48
	title = dpe_hw_duel.48.name
	desc = dpe_hw_duel.48.desc

	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}

	option = {
		name = dpe_hw_duel.48.A

		add_opinion_modifier = {
			who =  from
			modifier = dpe_hw_forgiven
			
		}

		hidden_effect = {
			from = { country_event = { id = dpe_hw_duel.481 days = 5 } }
		}
	}
	option = {
		name = dpe_hw_duel.48.B

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					is_hostile_to = from
					is_rival = from
				}
			}
		}
		hidden_effect = {
			from = { country_event = { id = dpe_hw_duel.482 days = 5 } }
		}
	}
}


country_event = {
	id = dpe_hw_duel.481
	title = dpe_hw_duel.481.name
	desc = dpe_hw_duel.481.desc

	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}

	option = {
		name = OK
	}
}

country_event = {
	id = dpe_hw_duel.482
	title = dpe_hw_duel.482.name
	desc = dpe_hw_duel.482.desc

	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}

	option = {
		name = UNFORTUNATE
	}
}


#this does nothing much

country_event = {
	id = dpe_hw_duel.5
	title = dpe_hw_duel.5.name
	desc = dpe_hw_duel.5.desc

	diplomatic = yes

	picture_event_data = {
		portrait = from
		planet_background = from
		graphical_culture = from
		city_level = from
		room = from.ruler
	}

	is_triggered_only = yes

	option = {
		name = EXCELLENT
		hidden_effect = {
			if = {
				limit = {
					from = {
						has_ai_personality = honorbound_warriors
					}
				}
				from = {
					country_event = { id = dpe_hw_duel.52 days = 30 }
				}
			}
			else = { from = { country_event = { id = dpe_hw_duel.51 days = 30 } } }
		}
	}
}

country_event = {
	id = dpe_hw_duel.51
	title = dpe_hw_duel.51.name
	desc = {
		trigger = {
			has_ethic = ethic_gestalt_consciousness
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.51.desc.gestalt.leader
	}
	desc = {
		trigger = {
			has_ethic = ethic_gestalt_consciousness
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.51.desc.gestalt.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.51.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.51.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.51.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.51.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	immediate = {
		from = { country_event = { id = dpe_hw_duel.53 } }
	}

	option = {
		name = dpe_hw_duel.51.A

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0.5
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_fanatic_xenophile
				}
			}
			modifier = {
				factor = 1.5
				OR = {
					has_ethic = ethic_fanatic_militarist
					has_ethic = ethic_fanatic_xenophobe
				}
			}
		}

		hidden_effect = {
			from = {
				random_list = {
					#resounding win
					20 = {
						country_event = { id = dpe_hw_duel.60 days = 5 }
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal win
					40 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.61 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.62 days = 5 }
								modifier = {
									factor = 0
									root = { has_ethic = ethic_gestalt_consciousness }
								}
							}
						}
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal loss
					30 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.63 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.65 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									OR = {
										leader_class = general
										is_same_value = prev.heir
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
					#bad loss
					15 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.66 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.68 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									leader_class = general
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		name = dpe_hw_duel.51.B

		custom_tooltip = dpe_hw_duel.51.B.tooltip

		hidden_effect = {
			from = {
				random_list = {
					#resounding win
					20 = {
						country_event = { id = dpe_hw_duel.60 days = 5 }
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal win
					40 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.61 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.62 days = 5 }
								modifier = {
									factor = 0
									root = { has_ethic = ethic_gestalt_consciousness }
								}
							}
						}
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal loss
					30 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.63 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.64 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									OR = {
										leader_class = general
										is_same_value = prev.heir
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
					#bad loss
					15 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.66 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.67 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									leader_class = general
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
				}
			}
		}
	}
}





country_event = {
	id = dpe_hw_duel.52
	title = dpe_hw_duel.52.name
	desc = {
		trigger = {
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.52.desc.from_leader
	}
	desc = {
		trigger = {
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.52.desc.no_leader
	}
	desc = {
		trigger = {
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.52.desc.root_leader
	}
	desc = {
		trigger = {
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.52.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	immediate = {
		from = { country_event = { id = dpe_hw_duel.53 } }
	}

	option = {
		name = dpe_hw_duel.52.option

		hidden_effect = {
			from = {
				random_list = {
					#resounding win
					20 = {
						country_event = { id = dpe_hw_duel.60 days = 5 }
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal win
					40 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.61 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.62 days = 5 }
								modifier = {
									factor = 0
									root = { has_ethic = ethic_gestalt_consciousness }
								}
							}
						}
						modifier = {
							factor = 1.33
							has_ethic = ethic_fanatic_militarist
						}
						modifier = {
							factor = 0.75
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_weak
									}
								}
							}
							else = {
								species = {
									has_trait = trait_weak
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
							else = {
								species = {
									has_trait = trait_quarrelsome
								}
							}
						}
						modifier = {
							factor = 1.33
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_strong
								}
							}
						}
						modifier = {
							factor = 1.67
							if = {
								limit = {
									has_country_flag = dpe_hw_duel_leader
								}
								event_target:dpe_duel_leader = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
							else = {
								species = {
									has_trait = trait_very_strong
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
							event_target:dpe_duel_leader = {
								OR = {
									leader_class = general
									is_same_value = prev.heir
								}
							}
						}
						modifier = {
							factor = 1.2
							has_country_flag = dpe_hw_duel_leader
						}
					}
					#normal loss
					30 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.63 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.64 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									OR = {
										leader_class = general
										is_same_value = prev.heir
									}
								}
							}
						}
						modifier = {
							factor = 1.2
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
					#bad loss
					15 = {
						random_list = {
							1 = {
								country_event = { id = dpe_hw_duel.66 days = 5 }
							}
							1 = {
								country_event = { id = dpe_hw_duel.67 days = 5 }
							}
						}
						modifier = {
							factor = 1.33
							root = {
								OR = {
									has_ethic = ethic_militarist
									has_ethic = ethic_gestalt_consciousness
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								has_ethic = ethic_fanatic_militarist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								has_ethic = ethic_pacifist
							}
						}
						modifier = {
							factor = 0.75
							root = {
								NOR = {
									has_ethic = ethic_gestalt_consciousness
									has_faction = imperialist
								}
							}
						}
						modifier = {
							factor = 0.75
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_weak
										}
									}
								}
								else = {
									species = {
										has_trait = trait_weak
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_quarrelsome
										}
									}
								}
								else = {
									species = {
										has_trait = trait_quarrelsome
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.67
							root = {
								if = {
									limit = {
										has_country_flag = dpe_hw_duel_leader
									}
									event_target:dpe_duel_leader2 = {
										species = {
											has_trait = trait_very_strong
										}
									}
								}
								else = {
									species = {
										has_trait = trait_very_strong
									}
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
								event_target:dpe_duel_leader2 = {
									leader_class = general
								}
							}
						}
						modifier = {
							factor = 1.33
							root = {
								has_country_flag = dpe_hw_duel_leader
							}
						}
					}
				}
			}
		}
	}
}

#HW told of impending duel (nothing else, dead-end event)
country_event = {
	id = dpe_hw_duel.53
	title = dpe_hw_duel.53.name
	desc = {
		trigger = {
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.53.desc.from_leader
	}
	desc = {
		trigger = {
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.53.desc.no_leader
	}
	desc = {
		trigger = {
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.53.desc.root_leader
	}
	desc = {
		trigger = {
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.53.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = dpe_hw_duel.53.option
	}
}



#HW side results

#resounding win
country_event = {
	id = dpe_hw_duel.60
	title = dpe_hw_duel.60.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.60.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.60.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.60.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.60.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.60.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.60.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.60.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.60.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT

		add_modifier = {
			modifier = dpe_honour_restored
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		custom_tooltip = dpe_better_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_fanatic_militarist
						has_ethic = ethic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_valourous
				}
			}
		}
		hidden_effect = {
			from = {
				country_event = { id = dpe_hw_duel.70 }
			}
		}
	}
}


#mild win + kill
country_event = {
	id = dpe_hw_duel.61
	title = dpe_hw_duel.61.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.61.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.61.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.61.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.61.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.61.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.61.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.61.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.61.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT

		add_modifier = {
			modifier = dpe_honour_restored
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		from = {
			if = {
				limit = {
					OR = {
						has_ethic = ethic_fanatic_militarist
						has_ethic = ethic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_valourous
				}
			}
		}
		hidden_effect = {
			from = {
				country_event = { id = dpe_hw_duel.71 }
			}
		}
	}
}


#mild win + surrender
country_event = {
	id = dpe_hw_duel.62
	title = dpe_hw_duel.62.name
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.62.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.62.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.62.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.62.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT

		add_modifier = {
			modifier = dpe_honour_restored
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		from = {
			if = {
				limit = {
					OR = {
						has_ethic = ethic_fanatic_militarist
						has_ethic = ethic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_valourous
				}
			}
		}
		hidden_effect = {
			from = {
				country_event = { id = dpe_hw_duel.72 }
			}
		}
	}
}



#close defeat + kill
country_event = {
	id = dpe_hw_duel.63
	title = dpe_hw_duel.63.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.63.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.63.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.63.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.63.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.63.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.63.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.63.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.63.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				kill_leader = { show_notification = no }
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}
		hidden_effect = { from = { country_event = { id = dpe_hw_duel.73 } } }
	}
}

#close defeat + surrender
country_event = {
	id = dpe_hw_duel.64
	title = dpe_hw_duel.64.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.64.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.64.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.64.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.64.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.64.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.64.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.64.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.64.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_loser_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_loser_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_loser_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_loser_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_loser_ruler
					}
				}
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}
		hidden_effect = { from = { country_event = { id = dpe_hw_duel.74 } } }
	}
}

#close defeat + treacherous kill
country_event = {
	id = dpe_hw_duel.65
	title = dpe_hw_duel.65.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.65.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.65.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.65.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.65.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.65.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.65.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.65.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.65.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = dpe_hw_duel.65.option

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				kill_leader = { show_notification = no }
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}
		hidden_effect = { from = { country_event = { id = dpe_hw_duel.75 } } }
	}
}





#close defeat + kill
country_event = {
	id = dpe_hw_duel.66
	title = dpe_hw_duel.66.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.66.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.66.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.66.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.66.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.66.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.66.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.66.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.66.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				kill_leader = { show_notification = no }
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}
		custom_tooltip = dpe_worse_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_pitiful_warriors
				}
			}
		}
		hidden_effect = { from = { country_event = { id = dpe_hw_duel.76 } } }
	}
}

#close defeat + surrender
country_event = {
	id = dpe_hw_duel.67
	title = dpe_hw_duel.67.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.67.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.67.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.67.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.67.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.67.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.67.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.67.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.67.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_loser_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_loser_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_loser_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_loser_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_loser_ruler
					}
				}
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}
		custom_tooltip = dpe_worse_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_pitiful_warriors
				}
			}
		}
		hidden_effect = { from = { country_event = { id = dpe_hw_duel.77 } } }
	}
}

#heavy defeat + treacherous kill
country_event = {
	id = dpe_hw_duel.68
	title = dpe_hw_duel.68.name	
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.68.desc.hive.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_hive_mind }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.68.desc.hive.no_leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.68.desc.machine.leader
	}
	desc = {
		trigger = {
			from = { has_authority = auth_machine_intelligence }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.68.desc.machine.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.68.desc.from_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.68.desc.no_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.68.desc.root_leader
	}
	desc = {
		trigger = {
			from = {
				NOT = { has_ethic = ethic_gestalt_consciousness }
			}
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.68.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = dpe_hw_duel.68.option

		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader = {
				kill_leader = { show_notification = no }
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced
			days = 3600
		}

		custom_tooltip = dpe_worse_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_pitiful_warriors
				}
			}
		}

		hidden_effect = { from = { country_event = { id = dpe_hw_duel.78 } } }
	}
}



#other side

#resounding loss
country_event = {
	id = dpe_hw_duel.70
	title = dpe_hw_duel.70.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.70.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.70.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.70.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.70.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.70.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.70.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.70.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.70.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		custom_tooltip = dpe_worse_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_pitiful_warriors
				}
			}
		}
	}

	option = {
		name = dpe_hw_duel.70.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_loser_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_loser_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_loser_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_loser_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_loser_ruler
					}
				}
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced1
			days = 3600
		}
		custom_tooltip = dpe_worse_relations_with_militarists
		hidden_effect = {
			every_relation = {
				limit = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				add_opinion_modifier = {
					who = root
					modifier = dpe_pitiful_warriors
				}
			}
		}
	}
}

#normal loss (with death)
country_event = {
	id = dpe_hw_duel.71
	title = dpe_hw_duel.71.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.71.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.71.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.71.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.71.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.71.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.71.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.71.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.71.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
	}

	option = {
		name = dpe_hw_duel.71.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader2 = {
				kill_leader = {
					show_notification = no
				}
			}
		}
		add_modifier = {
			modifier = dpe_duel_disgraced1
			days = 3600
		}
	}
}

#normal loss (with surrender)
country_event = {
	id = dpe_hw_duel.72
	title = dpe_hw_duel.72.name	
	#Gestalt is irrelevant here

	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.72.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.72.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.72.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.72.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = UNFORTUNATE
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
	}

	option = {
		name = dpe_hw_duel.72.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		add_modifier = {
			modifier = dpe_duel_disgraced1
			days = 3600
		}
		if = {
			limit = { has_country_flag = dpe_hw_duel_leader }
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_loser_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_loser_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_loser_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_loser_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_loser_ruler
					}
				}
			}
		}
	}
}


#normal win
country_event = {
	id = dpe_hw_duel.73
	title = dpe_hw_duel.73.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.73.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.73.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.73.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.73.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.73.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.73.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.73.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.73.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = GOOD
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}

	option = {
		name = dpe_hw_duel.73.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
	}
}


#normal win
country_event = {
	id = dpe_hw_duel.74
	title = dpe_hw_duel.74.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.74.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.74.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.74.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.74.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.74.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.74.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.74.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.74.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = GOOD
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}

	option = {
		name = dpe_hw_duel.74.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}
}


#normal win + disgraceful kill
country_event = {
	id = dpe_hw_duel.75
	title = dpe_hw_duel.75.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.75.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.75.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.75.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.75.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.75.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.75.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.75.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.75.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = GOOD
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
		}
		custom_tooltip = dpe_worse_relations_from_deceit
		hidden_effect = {
			every_relation = {
				limit = {
					NOR = {
						is_same_value = from
						has_ethic = ethic_gestalt_consciousness
					}
				}
				add_opinion_modifier = {
					modifier = dpe_deceitful
					who = root
				}
			}
		}
	}

	option = {
		name = dpe_hw_duel.75.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
		}
		custom_tooltip = dpe_worse_relations_from_deceit
		hidden_effect = {
			every_relation = {
				limit = {
					NOR = {
						is_same_value = from
						has_ethic = ethic_gestalt_consciousness
					}
				}
				add_opinion_modifier = {
					modifier = dpe_deceitful
					who = root
				}
			}
		}
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
	}
}

#resounding win
country_event = {
	id = dpe_hw_duel.76
	title = dpe_hw_duel.76.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.76.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.76.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.76.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.76.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.76.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.76.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.76.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.76.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}

	option = {
		name = dpe_hw_duel.76.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}
}

#resounding win
country_event = {
	id = dpe_hw_duel.77
	title = dpe_hw_duel.77.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.77.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.77.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.77.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.77.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.77.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.77.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.77.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.77.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}

	option = {
		name = dpe_hw_duel.77.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
		from = {
			add_opinion_modifier = {
				who = root
				modifier = dpe_valourous
			}
		}
	}
}

#resounding win + disgraceful kill
country_event = {
	id = dpe_hw_duel.78
	title = dpe_hw_duel.78.name	
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.78.desc.hive.leader
	}
	desc = {
		trigger = {
			has_authority = auth_hive_mind
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.78.desc.hive.no_leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			from = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.78.desc.machine.leader
	}
	desc = {
		trigger = {
			has_authority = auth_machine_intelligence
			NOT = { from = { has_country_flag = dpe_hw_duel_leader } }
		}
		text = dpe_hw_duel.78.desc.machine.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.78.desc.from_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			NOT = { has_country_flag = dpe_hw_duel_leader }
		}
		text = dpe_hw_duel.78.desc.no_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { NOT = { has_country_flag = dpe_hw_duel_leader } }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.78.desc.root_leader
	}
	desc = {
		trigger = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			from = { has_country_flag = dpe_hw_duel_leader }
			has_country_flag = dpe_hw_duel_leader
		}
		text = dpe_hw_duel.78.desc.both_leader
	}
	picture = GFX_evt_victorious_army

	is_triggered_only = yes

	trigger = {
		exists = from
	}

	option = {
		name = EXCELLENT
		trigger = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
		}
		custom_tooltip = dpe_worse_relations_from_deceit
		hidden_effect = {
			every_relation = {
				limit = {
					NOR = {
						is_same_value = from
						has_ethic = ethic_gestalt_consciousness
					}
				}
				add_opinion_modifier = {
					modifier = dpe_deceitful
					who = root
				}
			}
		}
	}

	option = {
		name = dpe_hw_duel.78.option
		trigger = {
			OR = {
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_militarist
			}
		}
		from = {
			add_opinion_modifier = {
				modifier = dpe_honourless
				who = root
			}
		}
		custom_tooltip = dpe_worse_relations_from_deceit
		hidden_effect = {
			every_relation = {
				limit = {
					NOR = {
						is_same_value = from
						has_ethic = ethic_gestalt_consciousness
					}
				}
				add_opinion_modifier = {
					modifier = dpe_deceitful
					who = root
				}
			}
		}
		add_modifier = {
			modifier = dpe_honour_restored1
			days = 3600
		}
		random_pop_faction = {
			limit = {
				is_pop_faction_type = imperialist
			}
			add_modifier = {
				modifier = dpe_honour_restored_faction
				days = 3600
			}
		}
		if = {
			limit = {
				has_country_flag = dpe_hw_duel_leader
			}
			event_target:dpe_duel_leader2 = {
				if = {
					limit = { leader_class = admiral }
					add_trait = dpe_duel_victor_admiral
				}
				if = {
					limit = { leader_class = governor }
					add_trait = dpe_duel_victor_governor
				}
				if = {
					limit = { leader_class = general }
					add_trait = dpe_duel_victor_general
				}
				if = {
					limit = {
						OR = {
							is_same_value = root.heir
							is_same_value = root.ruler
						}
					}
					add_ruler_trait = dpe_duel_victor_ruler
				}
				else = {
					hidden_effect = {
						add_ruler_trait = dpe_duel_victor_ruler
					}
				}
			}
		}
	}
}
#don't forget to add an opinion modifier in the second round for from to root (and maybe others like treacherous)

