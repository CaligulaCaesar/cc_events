
namespace = cctest


country_event = {
	id = cctest.1
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
	}
}


country_event = {
	id = cctest.3
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_system_within_border = {
			random_fleet_in_system = {
				limit = {
					any_owned_ship = {
						is_ship_class = shipclass_starbase
					}
				}
				add_modifier = {
					modifier = dpe_starbase_talented_admiral
					days = 10800
				}
			}
		}
	}
}



country_event = {
	id = cctest.4
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				has_federation = yes
				is_country_type = default
			}
			join_war = root
		}
	}
}

country_event = {
	id = cctest.5
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = { 
				is_country_type = default
			}
			join_alliance = {
				who = root
				name = NAME_League_of_Non-Aligned_Powers
				override_requirements = yes
			}
		}
	}
}

country_event = {
	id = cctest.6
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = { 
				is_country_type = default
				is_at_war = yes
			}
			root = { join_war = prev }
		}
	}
}



country_event = {
	id = cctest.65
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				opinion = {
					who = root
					value < 100
				}
			}
			root = { country_event = { id = cctest.10 } }
		}
	}
}

country_event = {
	id = cctest.7
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				opinion = {
					who = root
					value < -1
				}
			}
			root = { country_event = { id = cctest.10 } }
		}
	}
}

country_event = {
	id = cctest.8
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_country = {
			limit = {
				opinion = {
					who = root
					value < -50
				}
			}
			root = { country_event = { id = cctest.10 } }
		}
	}
}

country_event = {
	id = cctest.10
	title = OK
	desc = OK
	
	picture = GFX_evt_arguing_senate
	
	is_triggered_only = yes
	
	option = {
		name = OK
		
		trigger = { is_ai = no }
		allow = { is_ai = no }
	}
	option = {
		name = GOOD
		
		trigger = { is_ai = yes }
		allow = { is_ai = yes }
	}
	option = {
		name = UNFORTUNATE
		
		allow = { is_ai = no }
	}
	option = {
		name = EXCELLENT
		
		allow = { is_ai = yes }
	}
}



country_event = {
	id = cctest.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {

		create_leader = {
			type = scientist
			species = owner_main_species
			name = random
			skill = 5
			traits = {
				trait = leader_trait_maniacal
				trait = dpe_leader_trait_ancient_knowledge
			}
		}
		last_created_leader = {
			save_event_target_as = dpe_escaped_scientist
			if = {
				limit = {
					species = { NOT = { has_trait = trait_erudite } }
				}
				modify_species = {
					add_trait = trait_erudite
				}
				add_trait = leader_trait_scientist_erudite
				add_ruler_trait = leader_trait_ruler_erudite
			}
		}
	}
}


country_event = {
	id = cctest.21
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		country_event = { id = cctest.22 days = 10 }
	}
}
country_event = {
	id = cctest.22
	title = OK
	desc = OK
	is_triggered_only = yes
	
	option = {
		name = OK
		allow = { NOT = { has_ethic = ethic_fanatic_spiritualist } }
		
		ai_chance = { factor = 100 }
		
		country_event = { id = cctest.10 days = 10 }
	}
	option = {
		name = OK
		
		ai_chance = { factor = 1 }
	}
}